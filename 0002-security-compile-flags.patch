diff -up irqbalance-1.0.4/glib-local/Makefile.am.orig irqbalance-1.0.4/glib-local/Makefile.am
--- irqbalance-1.0.4/glib-local/Makefile.am.orig	2012-10-01 18:53:14.880015380 +0200
+++ irqbalance-1.0.4/glib-local/Makefile.am	2012-10-01 18:56:23.718427615 +0200
@@ -3,6 +3,6 @@ noinst_LIBRARIES = libglib.a
 
 libglib_a_SOURCES = glist.c
 
-libglib_a_CFLAGS = @GLIB_CFLAGS@
+libglib_a_CFLAGS = -g -Os -W -Wall -Wshadow -Wformat -Wundef -Wl,-z,relro,-z,now -pie -fpie @GLIB_CFLAGS@
 
 noinst_HEADERS = glib.h glist.h
diff -up irqbalance-1.0.4/Makefile.am.orig irqbalance-1.0.4/Makefile.am
--- irqbalance-1.0.4/Makefile.am.orig	2012-10-01 18:52:58.005156228 +0200
+++ irqbalance-1.0.4/Makefile.am	2012-10-01 18:53:56.847664343 +0200
@@ -25,7 +25,7 @@ ACLOCAL_AMFLAGS = -I m4
 EXTRA_DIST = COPYING autogen.sh misc/irqbalance.service
 
 INCLUDES = -I${top_srcdir} 
-AM_CFLAGS = $(LIBCAP_NG_CFLAGS) $(GLIB_CFLAGS)
+AM_CFLAGS = -g -Os -W -Wall -Wshadow -Wformat -Wundef -Wl,-z,relro,-z,now -pie -fpie $(GLIB_CFLAGS) -D_GNU_SOURCE $(LIBCAP_NG_CFLAGS) 
 AM_CPPFLAGS = -W -Wall -Wshadow -Wformat -Wundef -D_GNU_SOURCE
 noinst_HEADERS = bitmap.h constants.h cpumask.h irqbalance.h non-atomic.h \
 	types.h
